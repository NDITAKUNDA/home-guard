<%- include('partials/header') %>

<%- include('partials/navigationBar') %>

<div class="container">
    <div class="col m-2">
        <h2>Guest Access</h2>
        <p>
            grant temporary access to visitors, making hosting stress-free
        </p>
        <p class="text-center" style="color: #941C2F;">these settings last for only an hour</p>
        <div class="col">
            <% devices.forEach(device=> { %>
                <div class="row my-2 p-3 rounded devices" style="outline: 1px solid #333;">
                    <div class="col-8">
                        <h2>
                            <%= device.name %>
                        </h2>
                        <span>Status: <%= device.status ? 'Online' : 'Offline' %></span>
                    </div>
                    <div class="col-4 text-center align-middle">
                        <form action="/services/guestaccess/devices/<%= device._id %>" method="post" class="clickableForm">
                            <input type="checkbox" class="theme-checkbox" <%=device.isOn==='on' ? 'checked' : ''%> <%= device.status ? '' : 'disabled' %>>
                        </form>
                    </div>
                </div>
                <% }); %>
        </div>
    </div>
</div>

<%- include('partials/footer') %>